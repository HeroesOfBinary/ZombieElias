<HTML>
	<head>
		<title>Square Navigation</title>
			<style>
				* { margin: 0px; padding: 0px; }
				html, body {width: 100%; height: 100% }
				canvas {
					border:1px solid red;
				}
			</style>
		<script language="javascript" src="jquery-1.10.2.js"></script>
		<script>
			window.onload = function(){
                // GLOBAL VARIBLES
				var canvas = document.getElementById("canvas");
				var ctx = canvas.getContext("2d");

				var w = canvas.width;
				var h = canvas.height;
				var offsetX = 0;
				var offsetY = 0;
				var rectX = 0;
				var rectY = 0; 
                    
                // EVENT HANDLER
                    
                // GRAPHICS CODE
				function drawGrid() {

					// move the grid
					offsetX += 5;
					offsetY += 5;
					if (offsetX == 20) {
						offsetX = 0;
					}
					if (offsetY == 20) {
						offsetY = 0;
					}
					rectX += 5;
					rectY += 5;
					if (rectX == w) {
						rectX = 0;
					}
					if (rectY == h) {
						rectY = 0;
					}

					ctx.save();
					ctx.clearRect(0, 0, w, h);
					ctx.strokeStyle = "gray";
					ctx.beginPath();
					// vertical grid lines
					for (var x = offsetX; x < w; x += 20) {
						ctx.moveTo(x, 0);
						ctx.lineTo(x, h);
					}
					// horizontal grid lines
					for (var y = offsetY; y < h; y += 20) {
						ctx.moveTo(0, y);
						ctx.lineTo(w, y);
					}
					// "moving" rect
					ctx.fillStyle = "red";
					ctx.rect(rectX - 4, rectY - 4, 8, 8);

					ctx.stroke();
					ctx.fill();
					ctx.restore();

				}  
                // OBJECTS
                                     
                // GAME LOOP
				 setInterval(function () {
					drawGrid();
				}, 100);
				
                    
				
                // LETS GO!
                    function init(){
                        ctx = $('#canvas')[0].getContext("2d");
                        canvas.height = $(window).height();
                        canvas.width = $(window).width();
                        return setInterval(game_loop, 10);
                    }
                    init();
            }
		</script>
	</head>
	<body>
		<canvas id="canvas" width=300 height=300></canvas>
	</body>


</HTML>